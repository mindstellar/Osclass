<?xml version="1.0"?>

<ruleset name="MyProject">
	<description>Coding Standard for MyProject.</description>

	<!-- Exclude Composer vendor directory. -->
	<exclude-pattern>*/vendor/*</exclude-pattern>
	<exclude-pattern phpcbf-only="true">*/3rdparty/*</exclude-pattern>

	<arg value="ps" />
	<arg name="report" value="summary" />
	<arg name="report-full" value="./logs/phpcs-full.txt" />
	<arg name="report-checkstyle" value="./xsl-template/phpcs-checkstyle.xml" />
	<arg name="extensions" value="php,inc,js,css,lib/php" />
	<ini name="memory_limit" value="128M" />

	<rule ref="PSR1" />
	<rule ref="PSR2">
		<exclude name="Generic.Files.LineEndings" />
	</rule>

	<config name="testVersion" value="5.3-99.0"/>
	<rule ref="PHPCompatibility">
		<!-- Verified correct usage. -->
		<exclude name="PHPCompatibility.PHP.DeprecatedIniDirectives.safe_modeRemoved">
	</rule>

	<!-- Verified correct usage. -->
	<rule ref="PHPCompatibility.PHP.DeprecatedIniDirectives.magic_quotes_runtimeRemoved">
		<exclude-pattern>*/MyFile.php</exclude-pattern>
	</rule>

	<rule ref="Generic.Metrics.NestingLevelSniff" />
	
	<rule ref="PEAR.Commenting" />

	<rule ref="Generic.Commenting.Todo.CommentFound">
		<message>Please review this TODO comment: %s</message>
		<severity phpcs-only="true">8</severity>
		<severity phpcbf-only="true">0</severity>
		<type>error</type>
	</rule>

	<rule ref="Generic.Files.LineLength">
		<properties>
			<property phpcs-only="true" name="lineLimit" value="90"/>
			<property phpcbf-only="true" name="lineLimit" value="120"/>
			<property name="absoluteLineLimit" value="100"/>
		</properties>
	</rule>

	<rule ref="Generic.PHP.ForbiddenFunctions">
		<properties>
			<property name="forbiddenFunctions" type="array" value="delete=>unset,print=>echo,create_function=>null" />
		</properties>
	</rule>

</ruleset>